<div class="analytics-container">

    <!-- Total Amount Header -->
    <div class="row mb-4">
        <div class="col-12 text-center">
        <h2 class="total-amount">
            {{ role === 'user' ? 'Total Spent' : 'Revenue' }}: {{ totalAmount | currency:'EUR' }}
        </h2>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="row mb-4">
        <!-- Pie Chart (Categories) -->
        <div class="col-md-6 mb-3">
        <div class="chart-card-pie">
            <canvas baseChart
                    [data]="pieChartData"
                    [type]="'pie'"
                    [options]="pieOptions">
            </canvas>
        </div>
        </div>

        <!-- Bar Chart (Items) -->
        <div class="col-md-6 mb-3">
        <div class="chart-card-bar position-relative">
            <canvas baseChart
                    [data]="barChartData"
                    [type]="'bar'"
                    [options]="barOptions">
            </canvas>
            <div class="best-seller-label d-inline-flex align-items-center gap-1">
                <i class="fas fa-crown"></i>
            </div>
        </div>
        </div>
    </div>

    <!-- Items Table -->
    <div class="table-responsive product-table">
        <table class="table table-striped">
        <thead class ="table-head">
            <tr>
            <th>Product</th>
            <th>Categories</th>
            <th>{{ role === 'user' ? 'Units Bought' : 'Units Sold' }}</th>
            <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of items">
            <td>{{ item.name }}</td>
            <td>{{ getCategorySlug(item.categories) }}</td>
            <td>{{ item.count }}</td>
            <td>{{ item.amount | currency:'EUR' }}</td>
            </tr>
        </tbody>
        </table>
    </div>
</div>

